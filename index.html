<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>sebastianoff</title>
    <meta name="description" content="portfolio" />
    <style>
        :root {
          color-scheme: dark;
          --bg: #0b0c0f;
          --fg: #e6e7ea;
          --muted: #9aa3ad;
          --edge: #1a1e24;
          --accent: #7dcfff;
        }
        * { box-sizing: border-box; }
        .wrap { position: relative; z-index: 1; }
        body { cursor: default; }
        a { cursor: pointer; }
        body {
          margin: 0;
          background: var(--bg);
          color: var(--fg);
          font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
          line-height: 1.7;
          -webkit-font-smoothing: antialiased;
          text-rendering: optimizeLegibility;
        }
        .wrap {
          max-width: 64ch;
          margin: 0 auto;
          padding: 12vh 1rem 18vh;
        }
        h1 {
          font-size: clamp(2.25rem, 6vw, 3.5rem);
          margin: 0 0 .25rem 0;
          letter-spacing: -0.01em;
        }
        .tag {
          color: var(--muted);
          margin: 0 0 1.5rem 0;
        }
        hr {
          border: 0;
          height: 1px;
          background: var(--edge);
          margin: 1.25rem 0 1.75rem;
        }
        nav ul {
          list-style: none;
          padding: 0;
          margin: 0;
        }
        nav li {
          margin: .6rem 0;
          display: flex;
          align-items: center;
          gap: .5rem;
        }
        a {
          color: var(--fg);
          text-decoration: none;
          border-bottom: 1px dashed var(--edge);
          text-underline-offset: .25em;
          transition: border-color .15s ease, color .15s ease;
        }
        a:hover, a:focus-visible {
          color: var(--accent);
          border-bottom-color: var(--accent);
          outline: none;
        }
        .stack {
          list-style: none;
          padding: 0;
          margin: 0;
          display: flex;
          flex-wrap: wrap;
          gap: .5rem;
        }
        .stack li {
          font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
          font-size: .95rem;
          color: var(--fg);
          border: 1px dashed var(--edge);
          border-radius: 6px;
          padding: .3rem .55rem;
        }
        .stack {
          list-style: none;
          padding: 0;
          margin: 0;
          display: flex;
          flex-wrap: wrap;
          gap: .5rem;
        }
        .stack li {
          font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
          font-size: .95rem;
          color: var(--fg);
          border: 1px dashed var(--edge);
          border-radius: 6px;
          padding: .3rem .55rem;
        }
        .projects {
          list-style: none;
          padding: 0;
          margin: 0;
        }
        .projects li {
          margin: .85rem 0;
        }
        .meta {
          display: block;
          color: var(--muted);
          font-size: .95rem;
          margin-top: .25rem;
        }
        kbd {
          font: 500 .75rem/1 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
          color: var(--muted);
          border: 1px solid var(--edge);
          border-bottom-width: 2px;
          padding: .15rem .4rem;
          border-radius: 6px;
          background: transparent;
          user-select: none;
        }
        .copied {
          color: var(--muted);
          font-size: .9rem;
          opacity: 0;
          transition: opacity .15s ease;
          user-select: none;
        }
        .copied.show { opacity: 1; }
        ::selection { background: rgba(255,255,255,.08); }
    </style>
</head>

<body>
    <main class="wrap">
        <h1>Sebastianoff</h1>
        <p class="tag">Hobbyist low-level programmer</p>
        <hr>

        <nav aria-label="Main links">
            <ul>
                <li>
                    <a id="github" href="https://github.com/sebastianoff" target="_blank" rel="noopener noreferrer" aria-label="GitHub (G)">GitHub</a>
                    <kbd title="shortcut">g</kbd>
                </li>
                <li>
                    <a id="email" href="mailto:cheesecakeycat@protonmail.com" data-email="cheesecakeycat@protonmail.com" aria-label="Email (E)">Email</a>
                    <kbd title="shortcut">e</kbd>
                    <span id="copied" class="copied" aria-live="polite" aria-hidden="true">copied</span>
                </li>
            </ul>
        </nav>

        <hr>

        <section aria-labelledby="stack">
            <h2 id="stack">I work with</h2>
            <ul class="stack">
                <li>Zig</li>
                <li>C</li>
                <li>NixOS</li>
                <li>Neovim</li>
            </ul>
        </section>

        <!--
TODO put projects once i actually have something to show lmao
    <section aria-labelledby="projects">
      <h2 id="projects">Projects</h2>
      <ul class="projects">
        <li>
          <a href="Link" target="_blank" rel="noopener noreferrer">zig-tool</a>
          <span class="meta">Cool thing</span>
        </li>
    </section>
-->
    </main>

    <script>
        (function () {
          const github = document.getElementById('github');
          const emailLink = document.getElementById('email');
          const copied = document.getElementById('copied');
          const email = emailLink?.dataset.email || (emailLink?.getAttribute('href') || '').replace(/^mailto:/, '');
    
          function showCopiedHint() {
            if (!copied) return;
            copied.classList.add('show');
            copied.setAttribute('aria-hidden', 'false');
            clearTimeout(showCopiedHint._t);
            showCopiedHint._t = setTimeout(() => {
              copied.classList.remove('show');
              copied.setAttribute('aria-hidden', 'true');
            }, 1200);
          }
    
          async function copyEmail() {
            if (!email) return;
            try {
              if (navigator.clipboard && window.isSecureContext) {
                await navigator.clipboard.writeText(email);
              } else {
                const ta = document.createElement('textarea');
                ta.value = email;
                ta.style.position = 'fixed';
                ta.style.opacity = '0';
                document.body.appendChild(ta);
                ta.focus();
                ta.select();
                document.execCommand('copy');
                ta.remove();
              }
              showCopiedHint();
            } catch (_) {
              emailLink?.click();
            }
          }
    
          document.addEventListener('keydown', (ev) => {
            const tag = (ev.target && ev.target.tagName) ? ev.target.tagName.toLowerCase() : '';
            if (['input', 'textarea', 'select'].includes(tag)) return;
            if (ev.ctrlKey || ev.altKey || ev.metaKey) return;
    
            const k = ev.key.toLowerCase();
            if (k === 'g' && github) {
              ev.preventDefault();
              const href = github.getAttribute('href');
              try { window.open(href, '_blank', 'noopener'); } catch (_) { location.href = href; }
            } else if (k === 'e') {
              ev.preventDefault();
              copyEmail();
            }
          });
        })();
    </script>
    <script>
        (() => {
          const cs = getComputedStyle(document.documentElement);
          const colorEdge   = '#FFF'
          const colorAccent = '#FFF'
        
          const DPR = Math.min(window.devicePixelRatio || 1, 2);
        
          const canvas = document.createElement('canvas');
          canvas.id = 'bg-web';
          canvas.style.position = 'fixed';
          canvas.style.inset = '0';
          canvas.style.width = '100%';
          canvas.style.height = '100%';
          canvas.style.pointerEvents = 'none';
          canvas.style.zIndex = '0';
          canvas.style.opacity = '0.4'; 
          canvas.setAttribute('aria-hidden', 'true');
          document.body.appendChild(canvas);
        
          const ctx = canvas.getContext('2d');
          let W = 0, H = 0, nodes = [];
        
          const reduceMotion = window.matchMedia?.('(prefers-reduced-motion: reduce)')?.matches;
        
          const params = {
            count: 150,
            size: 2,
            maxSpeed: reduceMotion ? 0.1 : 0.2,
            linkDist: 120,
            linkWidth: 1,
            repelRadius: reduceMotion ? 90 : 120,
            repelStrength: 0.9,
            wobble: 0.03
          };
          if (reduceMotion) canvas.style.opacity = '0.45';
        
          function seedNode() {
            return {
              x: Math.random() * W,
              y: Math.random() * H,
              vx: (Math.random() - 0.5) * params.maxSpeed,
              vy: (Math.random() - 0.5) * params.maxSpeed
            };
          }
        
          function setCount(n) {
            if (nodes.length < n) {
              while (nodes.length < n) nodes.push(seedNode());
            } else {
              nodes.length = n;
            }
          }
        
          function resize() {
            W = window.innerWidth;
            H = window.innerHeight;
        
            params.count = Math.max(36, Math.min(110, Math.round(W * H * 0.0005)));
            params.linkDist = Math.max(70, Math.min(140, Math.round(Math.min(W, H) * 0.18)));
        
            canvas.width = Math.floor(W * DPR);
            canvas.height = Math.floor(H * DPR);
            ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
        
            setCount(params.count);
          }
        
          const pointer = { x: -9999, y: -9999, active: false };
          window.addEventListener('pointermove', e => {
            pointer.x = e.clientX;
            pointer.y = e.clientY;
            pointer.active = true;
          });
          window.addEventListener('pointerleave', () => { pointer.active = false; });
          window.addEventListener('blur', () => { pointer.active = false; });
          window.addEventListener('resize', resize);
        
          let raf = 0;
          function step() {
            const { maxSpeed, wobble, repelRadius, repelStrength, linkDist, size } = params;
            const R2 = repelRadius * repelRadius;
            const L2 = linkDist * linkDist;
        
            for (let i = 0; i < nodes.length; i++) {
              const p = nodes[i];
        
              p.vx += (Math.random() - 0.5) * wobble;
              p.vy += (Math.random() - 0.5) * wobble;
        
              if (pointer.active) {
                const dx = p.x - pointer.x;
                const dy = p.y - pointer.y;
                const d2 = dx*dx + dy*dy;
                if (d2 > 0.001 && d2 < R2) {
                  const d = Math.sqrt(d2);
                  const f = ((1 - d / repelRadius) ** 2) * repelStrength;
                  p.vx += (dx / d) * f;
                  p.vy += (dy / d) * f;
                }
              }
        
        
              const s2 = p.vx*p.vx + p.vy*p.vy;
              const max2 = maxSpeed * maxSpeed;
              if (s2 > max2) {
                const s = maxSpeed / Math.sqrt(s2);
                p.vx *= s; p.vy *= s;
              }
        
        
              p.x += p.vx;
              p.y += p.vy;
        
        
              if (p.x < -10) p.x = W + 10;
              if (p.x > W + 10) p.x = -10;
              if (p.y < -10) p.y = H + 10;
              if (p.y > H + 10) p.y = -10;
            }
        
            ctx.clearRect(0, 0, W, H);
        
            ctx.lineWidth = params.linkWidth;
            ctx.strokeStyle = colorEdge;
            for (let i = 0; i < nodes.length; i++) {
              const a = nodes[i];
              for (let j = i + 1; j < nodes.length; j++) {
                const b = nodes[j];
                const dx = a.x - b.x, dy = a.y - b.y;
                const d2 = dx*dx + dy*dy;
                if (d2 < L2) {
                  const d = Math.sqrt(d2);
                  const t = 1 - d / linkDist;
                  ctx.globalAlpha = 0.06 + t * 0.14;
                  ctx.beginPath();
                  ctx.moveTo(a.x, a.y);
                  ctx.lineTo(b.x, b.y);
                  ctx.stroke();
                }
              }
            }
        
            ctx.fillStyle = colorAccent;
            const half = size / 2;
            for (let i = 0; i < nodes.length; i++) {
              const p = nodes[i];
              if (pointer.active) {
                const d = Math.hypot(p.x - pointer.x, p.y - pointer.y);
                ctx.globalAlpha = d < 100 ? 1 : 0.85;
              } else {
                ctx.globalAlpha = 0.85;
              }
              ctx.fillRect(p.x - half, p.y - half, size, size);
            }
        
            ctx.globalAlpha = 1;
            raf = requestAnimationFrame(step);
          }
        
          function start() {
            cancelAnimationFrame(raf);
            raf = requestAnimationFrame(step);
          }
          function stop() {
            cancelAnimationFrame(raf);
          }
        
          resize();
          start();
        
          document.addEventListener('visibilitychange', () => {
            if (document.hidden) stop();
            else start();
          });
        })();
    </script>
</body>

</html>
